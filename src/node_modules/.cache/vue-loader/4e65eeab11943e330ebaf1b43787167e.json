{"remainingRequest":"/vuejs_projects/vue-router-spa/node_modules/vue-loader/lib/index.js??vue-loader-options!/vuejs_projects/vue-router-spa/src/views/pages/MovieForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/vuejs_projects/vue-router-spa/src/views/pages/MovieForm.vue","mtime":1533492309091},{"path":"/vuejs_projects/vue-router-spa/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/vuejs_projects/vue-router-spa/node_modules/cache-loader/dist/cjs.js","mtime":1533118164117},{"path":"/vuejs_projects/vue-router-spa/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\n\nconst list_url = \"http://127.0.0.1:8000/service/movie/list\";\nconst add_url = \"http://127.0.0.1:8000/service/movie/create\";\nconst delete_url = \"http://127.0.0.1:8000/service/movie/delete/\";\nconst update_url = \"http://127.0.0.1:8000/service/movie/update/\";\n\nexport default {\n  data() {\n    return {\n      fields: [{\n          key: \"id\",\n          label: \"ID\"\n        },\n        {\n          key: \"title\",\n          label: \"TITLE\"\n        },\n        {\n          key: \"genre\",\n          label: \"GENRE\"\n        },\n        {\n          key: \"year\",\n          label: \"YEAR\"\n        },\n        {\n          key: \"author\",\n          label: \"AUTHOR\"\n        },\n        {\n          key: \"action\",\n          label: \"ACTION\"\n        }\n      ],\n      movies: [],\n      mode: \"add\",\n      form: {\n        title: \"\",\n        genre: \"\",\n        year: \"\",\n        author: \"\"\n      }\n    };\n  },\n\n  mounted() {\n    this.loadData();\n  },\n\n  methods: {\n    loadData: function() {\n      axios\n        .get(list_url)\n        .then(response => (this.movies = response.data))\n    },\n\n    addData: function() {\n      axios.post(add_url, this.form).then(response =>\n        (this.movies = response.data));\n    },\n\n    editData: function(movie) {\n      this.mode=\"edit\"\n      this.form.id = movie.id\n      this.form.title = movie.title\n      this.form.genre = movie.genre\n      this.form.year = movie.year\n      this.form.author = movie.author\n    },\n\n    resetData: function() {\n      this.mode = \"add\"\n      this.form = {\n        title: \"\",\n        genre: \"\",\n        year: \"\",\n        author: \"\"\n      }\n    },  \n\n    updateData: function() {\n      axios.post(update_url + this.form.id, this.form)\n      this.mode = \"add\"\n      this.movies = []\n      this.loadData()\n    },\n\n    deleteData: function(index, id) {\n      axios.get(delete_url + id).then(this.movies.splice(index, 1))\n    }\n  }\n};\n",{"version":3,"sources":["MovieForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"MovieForm.vue","sourceRoot":"views/pages","sourcesContent":["<template>\n  <b-row class=\"justify-content-center\">\n    <b-col md=\"4\">\n      <b-card-group>\n        <b-card title=\"Movie form\">\n          <b-card-body>\n            <b-form>\n              <b-form-group class=\"mb-3\" label=\"Title\">\n                <b-form-input v-model=\"form.title\" type=\"text\" class=\"form-control\" placeholder=\"Title\"></b-form-input>\n              </b-form-group>\n  \n              <b-form-group class=\"mb-3\" label=\"Genre\">\n                <b-form-input v-model=\"form.genre\" type=\"text\" class=\"form-control\" placeholder=\"Genre\"></b-form-input>\n              </b-form-group>\n  \n              <b-form-group class=\"mb-3\" label=\"Year\">\n                <b-form-input v-model=\"form.year\" type=\"text\" class=\"form-control\" placeholder=\"Year\"></b-form-input>\n              </b-form-group>\n  \n              <b-form-group class=\"mb-3\" label=\"Author\">\n                <b-form-input v-model=\"form.author\" type=\"text\" class=\"form-control\" placeholder=\"Author\"></b-form-input>\n              </b-form-group>\n  \n              <b-button variant=\"success\" v-if=\"mode=='add'\" @click=\"addData()\">Save</b-button>\n              <b-button variant=\"outline-success\" v-if=\"mode=='edit'\" @click=\"updateData()\">Update</b-button>\n              <b-button variant=\"outline-success\" v-if=\"mode=='edit'\" @click=\"resetData()\">Cancel</b-button>\n            </b-form>\n          </b-card-body>\n        </b-card>\n      </b-card-group>\n    </b-col>\n  \n    <b-col md=\"8\">\n      <b-card-group>\n        <b-card title=\"Movie list\">\n          <b-table :fields=\"fields\" :items=\"movies\">\n            <template class=\"pad\" slot=\"action\" slot-scope=\"row\">\n                    <b-button class=\"btn-edit\" variant=\"warning\" @click=\"editData(row.item)\"><fa-icon icon=\"edit\"></fa-icon></b-button>\n                    <b-button variant=\"danger\" @click=\"deleteData(row.index, row.item.id)\"><fa-icon icon=\"trash-alt\"></fa-icon></b-button>\n</template>\n          </b-table>\n        </b-card>\n      </b-card-group>\n    </b-col>\n  </b-row>\n</template>\n\n<script>\n  import axios from \"axios\";\n  \n  const list_url = \"http://127.0.0.1:8000/service/movie/list\";\n  const add_url = \"http://127.0.0.1:8000/service/movie/create\";\n  const delete_url = \"http://127.0.0.1:8000/service/movie/delete/\";\n  const update_url = \"http://127.0.0.1:8000/service/movie/update/\";\n  \n  export default {\n    data() {\n      return {\n        fields: [{\n            key: \"id\",\n            label: \"ID\"\n          },\n          {\n            key: \"title\",\n            label: \"TITLE\"\n          },\n          {\n            key: \"genre\",\n            label: \"GENRE\"\n          },\n          {\n            key: \"year\",\n            label: \"YEAR\"\n          },\n          {\n            key: \"author\",\n            label: \"AUTHOR\"\n          },\n          {\n            key: \"action\",\n            label: \"ACTION\"\n          }\n        ],\n        movies: [],\n        mode: \"add\",\n        form: {\n          title: \"\",\n          genre: \"\",\n          year: \"\",\n          author: \"\"\n        }\n      };\n    },\n  \n    mounted() {\n      this.loadData();\n    },\n  \n    methods: {\n      loadData: function() {\n        axios\n          .get(list_url)\n          .then(response => (this.movies = response.data))\n      },\n  \n      addData: function() {\n        axios.post(add_url, this.form).then(response =>\n          (this.movies = response.data));\n      },\n  \n      editData: function(movie) {\n        this.mode=\"edit\"\n        this.form.id = movie.id\n        this.form.title = movie.title\n        this.form.genre = movie.genre\n        this.form.year = movie.year\n        this.form.author = movie.author\n      },\n\n      resetData: function() {\n        this.mode = \"add\"\n        this.form = {\n          title: \"\",\n          genre: \"\",\n          year: \"\",\n          author: \"\"\n        }\n      },  \n\n      updateData: function() {\n        axios.post(update_url + this.form.id, this.form)\n        this.mode = \"add\"\n        this.movies = []\n        this.loadData()\n      },\n  \n      deleteData: function(index, id) {\n        axios.get(delete_url + id).then(this.movies.splice(index, 1))\n      }\n    }\n  };\n</script>\n\n<style>\n.justify-content-center {\n  width: 100%;\n}\n</style>\n"]}]}